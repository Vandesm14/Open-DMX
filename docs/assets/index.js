var index=function(){"use strict";function t(){}function e(t,e,n,o,r){t.__svelte_meta={loc:{file:e,line:n,column:o,char:r}}}function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){if(null!=t&&"function"!=typeof t.subscribe)throw new Error(`'${e}' is not a store with a 'subscribe' method`)}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(t){return null==t?"":t}function a(t,e,n=e){return t.set(n),e}function f(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function p(){return t=" ",document.createTextNode(t);var t}function h(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let m;function $(t){m=t}const g=[],b=[],x=[],y=[],v=Promise.resolve();let w=!1;function k(t){x.push(t)}let _=!1;const E=new Set;function O(){if(!_){_=!0;do{for(let t=0;t<g.length;t+=1){const e=g[t];$(e),S(e.$$)}for($(null),g.length=0;b.length;)b.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];E.has(e)||(E.add(e),e())}x.length=0}while(g.length);for(;y.length;)y.pop()();w=!1,_=!1,E.clear()}}function S(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const j=new Set;let D;function F(t,e){t&&t.i&&(j.delete(t),t.i(e))}function A(t,e,n,o){if(t&&t.o){if(j.has(t))return;j.add(t),D.c.push((()=>{j.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function C(t,e,o){const{fragment:c,on_mount:s,on_destroy:l,after_update:u}=t.$$;c&&c.m(e,o),k((()=>{const e=s.map(n).filter(i);l?l.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(k)}function I(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(g.push(t),w||(w=!0,v.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function M(e,n,i,c,s,l,u=[-1]){const a=m;$(e);const d=n.props||{},p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let h=!1;if(p.ctx=i?i(e,d,((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),h&&R(e,t)),n})):[],p.update(),h=!0,r(p.before_update),p.fragment=!!c&&c(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();n.intro&&F(e.$$.fragment),C(e,n.target,n.anchor),O()}$(a)}function B(t,e){document.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(t,Object.assign({version:"3.31.0"},e)))}function N(t,e){B("SvelteDOMInsert",{target:t,node:e}),function(t,e){t.appendChild(e)}(t,e)}function P(t,e,n){B("SvelteDOMInsert",{target:t,node:e,anchor:n}),function(t,e,n){t.insertBefore(e,n||null)}(t,e,n)}function L(t){B("SvelteDOMRemove",{node:t}),f(t)}function K(t,e,n,o,r,i){const c=!0===o?["capture"]:o?Array.from(Object.keys(o)):[];r&&c.push("preventDefault"),i&&c.push("stopPropagation"),B("SvelteDOMAddEventListener",{node:t,event:e,handler:n,modifiers:c});const s=function(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}(t,e,n,o);return()=>{B("SvelteDOMRemoveEventListener",{node:t,event:e,handler:n,modifiers:c}),s()}}function T(t,e,n){!function(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}(t,e,n),null==n?B("SvelteDOMRemoveAttribute",{node:t,attribute:e}):B("SvelteDOMSetAttribute",{node:t,attribute:e,value:n})}function q(t){if(!("string"==typeof t||t&&"object"==typeof t&&"length"in t)){let e="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function G(t,e,n){for(const o of Object.keys(e))~n.indexOf(o)||console.warn(`<${t}> received an unexpected slot "${o}".`)}class Y extends class{$destroy(){I(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const z=[];function H(e,n=t){let o;const r=[];function i(t){if(c(e,t)&&(e=t,o)){const t=!z.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),z.push(n,e)}if(t){for(let t=0;t<z.length;t+=2)z[t][0](z[t+1]);z.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(c,s=t){const l=[c,s];return r.push(l),1===r.length&&(o=n(i)||t),c(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const J=H([{r:0,g:0,b:0,id:0},{r:255,g:0,b:0,id:1},{r:255,g:128,b:0,id:2},{r:0,g:255,b:0,id:3},{r:0,g:0,b:255,id:4}]),Q=H({last:null}),U=function(t){let e=t.replace("#","").match(/.{1,2}/g);return{r:parseInt(e[0],16),g:parseInt(e[1],16),b:parseInt(e[2],16)}};function V(n){let o,r,i,c;const s={c:function(){o=d("div"),T(o,"class",r=u(n[0].selected?"selected":"")+" svelte-1kpynea"),h(o,"background-color","rgb("+n[0].r+", "+n[0].g+", "+n[0].b+")"),e(o,"src/comps/Fixture.svelte",48,0,1078)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){P(t,o,e),i||(c=K(o,"click",n[1],!1,!1,!1),i=!0)},p:function(t,[e]){1&e&&r!==(r=u(t[0].selected?"selected":"")+" svelte-1kpynea")&&T(o,"class",r),1&e&&h(o,"background-color","rgb("+t[0].r+", "+t[0].g+", "+t[0].b+")")},i:t,o:t,d:function(t){t&&L(o),i=!1,c()}};return B("SvelteRegisterBlock",{block:s,id:V.name,type:"component",source:"",ctx:n}),s}function W(t,e,n){let o,r;s(Q,"selection"),l(t,Q,(t=>n(2,o=t))),s(J,"fixtureData"),l(t,J,(t=>n(3,r=t)));let{$$slots:i={},$$scope:c}=e;G("Fixture",i,[]);let{fixture:u={}}=e;const f=t=>{let e=o.last?.id;if(t.ctrlKey)n(0,u.selected=!u.selected,u);else if(t.shiftKey){if(null!==e)if(u.id>=e)for(let t=e;t<=u.id;t++)a(J,r[t].selected=!0,r);else for(let t=e;t>=u.id;t--)a(J,r[t].selected=!0,r)}else{let t=r.filter((t=>t.selected)).length;a(J,r=r.map((t=>({...t,selected:!1}))),r),(!u.selected||t>1)&&(r.find((t=>t.id===u.id)).selected=!0)}a(Q,o.last={from:"fixture",id:u.id},o)},d=["fixture"];return Object.keys(e).forEach((t=>{~d.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Fixture> was created with unknown prop '${t}'`)})),t.$$set=t=>{"fixture"in t&&n(0,u=t.fixture)},t.$capture_state=()=>({fixtureData:J,selection:Q,fixture:u,select:f,$selection:o,$fixtureData:r}),t.$inject_state=t=>{"fixture"in t&&n(0,u=t.fixture)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[u,f]}class X extends Y{constructor(t){super(t),M(this,t,W,V,c,{fixture:0}),B("SvelteRegisterComponent",{component:this,tagName:"Fixture",options:t,id:V.name})}get fixture(){throw new Error("<Fixture>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fixture(t){throw new Error("<Fixture>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Z="src/Index.svelte";function tt(t,e,n){const o=t.slice();return o[8]=e[n],o}function et(t){let e,n;e=new X({props:{fixture:t[8]},$$inline:!0});const o={c:function(){!function(t){t&&t.c()}(e.$$.fragment)},m:function(t,o){C(e,t,o),n=!0},p:function(t,n){const o={};1&n&&(o.fixture=t[8]),e.$set(o)},i:function(t){n||(F(e.$$.fragment,t),n=!0)},o:function(t){A(e.$$.fragment,t),n=!1},d:function(t){I(e,t)}};return B("SvelteRegisterBlock",{block:o,id:et.name,type:"each",source:"(57:1) {#each $fixtureData as fixture}",ctx:t}),o}function nt(t){let n,o,i,c,s,l,u,a,f,h,m,$,g,b,x=t[0];q(x);let y=[];for(let e=0;e<x.length;e+=1)y[e]=et(tt(t,x,e));const v=t=>A(y[t],1,1,(()=>{y[t]=null})),w={c:function(){n=d("div");for(let t=0;t<y.length;t+=1)y[t].c();o=p(),i=d("div"),c=d("input"),l=p(),u=d("button"),u.textContent="Add Fixture",a=p(),f=d("button"),f.textContent="Remove Selected",h=p(),m=d("button"),m.textContent="Select All",T(n,"id","viewer"),T(n,"class","svelte-110atj1"),e(n,Z,55,0,1178),T(c,"id","input"),T(c,"data-jscolor",s="{value: '#FF0000'}"),e(c,Z,61,1,1307),e(u,Z,62,1,1387),e(f,Z,63,1,1440),e(m,Z,64,1,1500),e(i,Z,60,0,1299)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,r){P(e,n,r);for(let t=0;t<y.length;t+=1)y[t].m(n,null);P(e,o,r),P(e,i,r),N(i,c),N(i,l),N(i,u),N(i,a),N(i,f),N(i,h),N(i,m),$=!0,g||(b=[K(n,"click",t[1],!1,!1,!1),K(c,"input",t[2],!1,!1,!1),K(u,"click",t[3],!1,!1,!1),K(f,"click",t[4],!1,!1,!1),K(m,"click",t[5],!1,!1,!1)],g=!0)},p:function(t,[e]){if(1&e){let o;for(x=t[0],q(x),o=0;o<x.length;o+=1){const r=tt(t,x,o);y[o]?(y[o].p(r,e),F(y[o],1)):(y[o]=et(r),y[o].c(),F(y[o],1),y[o].m(n,null))}for(D={r:0,c:[],p:D},o=x.length;o<y.length;o+=1)v(o);D.r||r(D.c),D=D.p}},i:function(t){if(!$){for(let t=0;t<x.length;t+=1)F(y[t]);$=!0}},o:function(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)A(y[t]);$=!1},d:function(t){t&&L(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(y,t),t&&L(o),t&&L(i),g=!1,r(b)}};return B("SvelteRegisterBlock",{block:w,id:nt.name,type:"component",source:"",ctx:t}),w}function ot(t,e,n){let o,r;s(J,"fixtureData"),l(t,J,(t=>n(0,o=t))),s(Q,"selection"),l(t,Q,(t=>n(6,r=t)));let{$$slots:i={},$$scope:c}=e;G("Index",i,[]);class u{constructor(){this.id=o[o.length-1].id+1,this.r=0,this.g=0,this.b=0}}const f=t=>{t.target!==t.currentTarget||t.ctrlKey||(a(J,o=o.map((t=>({...t,selected:!1}))),o),a(Q,r.last={from:"veiwer",id:null},r))},d=t=>{a(J,o=o.map((e=>e.selected?{...e,...U(t.target.value)}:e)),o)},p=()=>{a(J,o=[...o,new u],o)},h=()=>{a(J,o=o.filter((t=>!t.selected)),o)},m=()=>{a(J,o=o.map((t=>({...t,selected:!0}))),o)},$=[];return Object.keys(e).forEach((t=>{~$.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Index> was created with unknown prop '${t}'`)})),t.$capture_state=()=>({convertToRGB:U,fixtureData:J,selection:Q,Fixture:X,FixtureItem:u,select:f,changeColor:d,addFixture:p,removeFixture:h,selectAll:m,$fixtureData:o,$selection:r}),[o,f,d,p,h,m]}return new class extends Y{constructor(t){super(t),M(this,t,ot,nt,c,{}),B("SvelteRegisterComponent",{component:this,tagName:"Index",options:t,id:nt.name})}}({target:document.body})}();
